var result = require('d4-roshamresult');
var turn = require('d4-roshamturn');
var app;
exports.initialize = function(theApp){
	app=theApp;
}

exports.sendResults = function(theData){
	var sessionMap={};
    console.log('theData');
    console.log(theData);
    console.log('result:');
    turn.getTurns({startDate : theData.turnDate, numberOfTurns : 1}, function(theReturn){console.log(theReturn)});
//	for (connection in app.io.connected){
//		if (app.io.connected.hasOwnProperty(connection)){
//			sessionMap[app.io.handshaken[connection].session.userID] = app.io.sockets.sockets[connection];
//			//get the turn info here...
//			result.getUserTurnResults({turnDate : theData.turnDate, userID : app.io.handshaken[connection].session.userID},
//				function(data1, data2){
//					sessionMap[data2.userID].emit('getOneTurn', data2);
//			});
//		}
//	}
}